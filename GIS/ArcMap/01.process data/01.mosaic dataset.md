# 镶嵌数据集
## 问题1、影像黑底
### 方法1、对镶嵌数据集进行重新定义 NoData
1. 添加栅格数据
```
# 使用 catalog 添加栅格数据
Arcgis Catalog -> <file:gdb> -> <file:镶嵌数据集> -> <key:右键> -> 添加栅格数据
# 使用工具 ArcToolbox
数据管理工具 -> 栅格 -> 镶嵌数据集 -> 添加栅格至镶嵌数据集
```
2. 定义 NoData
- 打开工具
```
# 使用 catalog
Arcgis Catalog -> <file:gdb> -> <file:镶嵌数据集> -> <key:右键> -> 修改 -> 定义 NoData
# 使用 ArcToolbox
数据管理工具 -> 栅格 -> 镶嵌数据集 -> 定义镶嵌数据集NoData
```
- 配置说明
```
NoData值的波段（可选）-> 选择ALL_BANDS -> 在下面的框框中设置"NoData值"为0
```
### 方法2、对原始栅格数据定义 NoData
1. 定义栅格数据集 NoData
```
# 使用 catalog 操作栅格数据
ArcGIS Catalog -> <file:img|tiff> -> <key:右键> -> 属性 -> NoData 值 -> 编辑
Layer_1,Layer_2,Layer_3 全部设置为 0
点击确定应用后，数据 NoData 部分将会变得透明，可加载到 arcmap 中查看
```
2. 将数据添加至镶嵌数据集
```
添加已经设置好 NoData 值的数据，不需要再做额外的处理
```
## 问题2、镶嵌数据集在小比例尺下，有的部分不会显示（呈现白色，实际是透明的）
```
说明：
这个是由于概视图不完整导致的，因为此小块影像太小，导致构建概视图的时候系统默认跳过了这部分影像，导致概视图构建不完整
```
### 解决方法
```
思路：
先添加不能构建的这一小块影像栅格数据到镶嵌数据集中，查看在各个比例尺下的显示情况，如果显示正常，则继续将其他影像栅格数据添加到镶嵌数据集中，重新定义和构建概视图，此时概视图会跳过已构建的部分（那一小块影像栅格的概视图），这样整个概视图就是完整的。
```
1. 添加小块影像栅格数据到镶嵌数据集中
```
# 打开栅格数据框
ArcGIS Catalog -> <file:镶嵌数据集> -> <key:右键> -> 添加栅格数据
# 选中小块影像栅格数据
# 勾选“更新概视图（可选）”，点击“确定”
```
2. 添加其他影像栅格数据到镶嵌数据集中
```
操作相同
# 不勾选“更新概视图（可选）”，点击“确定”
```
3. 此时其他数据可能是不完整的，如果不完整，则进行下面的操作
4. 定义概视图
```
定义完成后，镶嵌数据集可能是黑白色的，如果是，则进行下面的操作
```
5. 构建概视图
```
构建完成后，镶嵌数据集可能还是黑白色的，如果是，则进行下面的操作
```
6. 定义概视图
```
通常来讲，此时镶嵌数据集的概视图是完整的
```
